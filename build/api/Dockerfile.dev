FROM golang:1.22-alpine

ENV GOPATH /go
ENV CGO_ENABLED 0

WORKDIR /go/src

RUN apk update && \
    apk add git

RUN go install github.com/air-verse/air@v1.52.2

EXPOSE 5000

COPY go.mod go.sum ./
RUN go mod download

CMD ["air", "-c", ".air.toml"]